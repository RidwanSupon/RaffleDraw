<!DOCTYPE html>
<html lang="bn" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fabtrix - ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶≤‡¶ü‡¶æ‡¶∞‡¶ø ‡¶°‡ßç‡¶∞</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="./tailwind.config.js"></script> 
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@100..900&display=swap" rel="stylesheet">
    <style>
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #1f2937;
            border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #4B5563;
            border-radius: 10px;
        }
        .dark .custom-scrollbar::-webkit-scrollbar-track {
            background: #1f2937;
        }
        .dark .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #4B5563;
        }

        .animate-marquee {
            color: #900020; 
            font-weight: 600;
            white-space: nowrap;
            display: inline-block;
            padding-left: 100%; /* Start off-screen */
            animation: marquee 15s linear infinite;
        }

        @keyframes marquee {
            0% { transform: translate(0, 0); }
            100% { transform: translate(-100%, 0); } /* Move left */
        }

        /* --- 2. Countdown Animation (Tailwind utility needed) --- */
        @keyframes countdown-scale {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(0.8); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        .animate-countdown-scale {
            animation: countdown-scale 1s ease-in-out infinite;
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-500 font-bengali">

    <canvas id="confetti-canvas" class="fixed top-0 left-0 w-full h-full pointer-events-none z-50"></canvas>

    <div class="container mx-auto p-4 md:p-8 max-w-6xl">
        
        <header class="text-center mb-8">
            <h1 class="text-6xl md:text-8xl font-extrabold text-fab-primary dark:text-fab-accent tracking-tighter">
                Fabtrix
            </h1>
            <div class="header-banner-container overflow-hidden whitespace-nowrap mt-2 bg-fab-primary/10 dark:bg-fab-accent/10 py-1 rounded-full">
                <p id="moving-text-banner" class="animate-marquee text-lg inline-block px-4">
                    ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶°‡ßç‡¶∞ ‡¶§‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ‡•§ Fabtrix ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶•‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡•§ ‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶¨‡¶ø‡¶ú‡¶Ø‡¶º‡ßÄ ‡¶π‡¶§‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶•‡¶æ‡¶ï‡ßÅ‡¶®
                </p>
            </div>
        </header>

        <main class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            <div class="lg:col-span-1 space-y-6">
                
                <section class="p-6 bg-white dark:bg-gray-800 shadow-xl rounded-2xl border border-fab-primary/20">
                    <h2 class="text-xl font-bold mb-4 border-b pb-2">üìÇ ‡¶Ö‡¶Ç‡¶∂‡¶ó‡ßç‡¶∞‡¶π‡¶£‡¶ï‡¶æ‡¶∞‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
                    <input type="file" id="file-upload" accept=".txt" class="block w-full text-sm text-gray-500
                        file:mr-4 file:py-2 file:px-4
                        file:rounded-full file:border-0
                        file:text-sm file:font-semibold
                        file:bg-fab-primary/20 file:text-fab-primary
                        hover:file:bg-fab-primary/30">
                    <p class="mt-3 text-sm text-gray-600 dark:text-gray-400">‡¶Æ‡ßã‡¶ü ‡¶Ö‡¶Ç‡¶∂‡¶ó‡ßç‡¶∞‡¶π‡¶£‡¶ï‡¶æ‡¶∞‡ßÄ: <span id="participant-count" class="font-bold text-fab-primary dark:text-fab-accent">‡ß¶</span> ‡¶ú‡¶®</p>
                    
                    <button id="show-participants-btn" 
                            class="mt-4 w-full bg-fab-primary hover:bg-fab-primary/90 text-white font-bold py-2 px-4 rounded transition shadow-md">
                        <span class="text-lg text-blue-900">‡¶Ö‡¶Ç‡¶∂‡¶ó‡ßç‡¶∞‡¶π‡¶£‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</span>
                    </button>
                </section>

                <section class="p-6 bg-white dark:bg-gray-800 shadow-xl rounded-2xl border border-fab-primary/20 space-y-4">
                    <h2 class="text-xl font-bold mb-4 border-b pb-2">‚öôÔ∏è ‡¶°‡ßç‡¶∞ ‡¶Ö‡¶™‡¶∂‡¶®</h2>
                    
                    <div class="flex items-center justify-between">
                        <label for="remove-winner-toggle" class="text-lg"></label>‡¶¨‡¶ø‡¶ú‡¶Ø‡¶º‡ßÄ‡¶ï‡ßá ‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶°‡ßç‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶∞‡¶æ‡¶®</label>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" value="" id="remove-winner-toggle" class="sr-only peer" checked>
                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-fab-primary/40 dark:peer-focus:ring-fab-primary/70 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:border-gray-300 after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-fab-primary"></div>
                        </label>
                    </div>

                    <div class="flex items-center justify-between">
                        <label for="display-toggle" class="text-lg">üë§ ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶¨‡¶ø‡¶ú‡¶Ø‡¶º‡ßÄ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®</label>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" value="" id="display-toggle" class="sr-only peer" checked>
                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-fab-primary/40 dark:peer-focus:ring-fab-primary/70 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:border-gray-300 after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-fab-primary"></div>
                        </label>
                    </div>

                    <div class="flex items-center justify-between">
                        <label for="countdown-toggle" class="text-lg">‚è±Ô∏è ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶°‡¶æ‡¶â‡¶® ‡¶Æ‡ßã‡¶°</label>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" value="" id="countdown-toggle" class="sr-only peer">
                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-fab-primary/40 dark:peer-focus:ring-fab-primary/70 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:border-gray-300 after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-fab-primary"></div>
                        </label>
                    </div>

                    <div class="flex items-center justify-between">
                        <label for="sound-toggle" class="text-lg">üîä ‡¶∏‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶Ö‡¶®/‡¶Ö‡¶´</label>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" value="" id="sound-toggle" class="sr-only peer" checked>
                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-fab-primary/40 dark:peer-focus:ring-fab-primary/70 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border after:border-gray-300 after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-fab-primary"></div>
                        </label>
                    </div>
                </section>
                
            </div>

            <div class="lg:col-span-1">
                <section class="p-6 bg-white dark:bg-gray-800 shadow-2xl rounded-2xl border border-fab-primary/30 min-h-[500px] flex flex-col items-center justify-center relative overflow-hidden">
                    <div id="countdown-display" class="absolute inset-0 flex items-center justify-center text-[200px] font-extrabold text-red-600 dark:text-red-400 z-30 hidden">
                    </div>

                    <div id="wheel-container" class="relative w-full max-w-sm aspect-square mb-4">
                        <div id="wheel-svg-or-canvas" class="w-full h-full bg-fab-primary/20 rounded-full border-8 border-fab-primary dark:border-fab-accent flex items-center justify-center relative overflow-hidden">
                            <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-[15px] border-l-transparent border-r-[15px] border-r-transparent border-t-[30px] border-t-red-600 z-10"></div>
                            
                            <div id="spinning-content" class="w-full h-full rounded-full transition-transform duration-[4000ms] ease-out flex items-center justify-center text-center text-xl font-bold text-gray-700 dark:text-gray-300" style="background-image: conic-gradient(from 0deg, #FDE047 0%, #0D9488 50%, #FDE047 100%);">
                                <span class="bg-white/70 dark:bg-gray-900/70 p-4 rounded-full shadow-lg">Fabtrix Spinner</span>
                            </div>

                        </div>
                    </div>

                    <div id="winner-reveal" class="text-center absolute inset-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm flex flex-col items-center justify-center z-40 hidden">
                        <p class="text-4xl md:text-5xl mb-4 text-gray-800 dark:text-gray-200">üéâ ‡¶¨‡¶ø‡¶ú‡¶Ø‡¶º‡ßÄ üéâ</p>
                        <h3 id="winner-name" class="text-3xl md:text-6xl font-extrabold bg-clip-text dark:from-fab-accent dark:to-fab-primary animate-glow-pulse mb-8">
                            [‡¶¨‡¶ø‡¶ú‡¶Ø‡¶º‡ßÄ‡¶∞ ‡¶®‡¶æ‡¶Æ]
                        </h3>
                        <button id="reset-wheel-btn" class="py-3 px-8 bg-teal-500 hover:bg-teal-500 text-white font-bold rounded-xl transition duration-300 shadow-lg">
                            ‡¶®‡¶§‡ßÅ‡¶® ‡¶°‡ßç‡¶∞ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®
                        </button>
                    </div>

                    <button id="spin-btn" class="py-4 px-12 bg-green-600 hover:bg-green-700 text-white text-2xl font-bold rounded-full transition duration-300 shadow-xl disabled:bg-gray-400 disabled:cursor-not-allowed">
                        Spin
                    </button>
                    
                </section>
            </div>

            <div class="lg:col-span-1 space-y-6">
                
                <section class="p-6 bg-white dark:bg-gray-800 shadow-xl rounded-2xl border border-fab-primary/20 space-y-4">
                    <h2 class="text-xl font-bold mb-4 border-b pb-2">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤</h2>
                    <div class="flex flex-col space-y-3">
                        <button id="reset-draw-btn" class="w-full py-3 px-4 bg-yellow-500 hover:bg-yellow-600 text-white font-bold rounded-xl transition duration-300 shadow-md">
                            ‡¶™‡ßÅ‡¶®‡¶∞‡¶æ‡¶Ø‡¶º ‡¶°‡ßç‡¶∞ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶® (‡¶®‡¶æ‡¶Æ ‡¶∞‡¶ø-‡¶≤‡ßã‡¶°)
                        </button>
                        <button id="clear-winners-btn" class="w-full py-3 px-4 bg-red-500 hover:bg-red-600 text-white font-bold rounded-xl transition duration-300 shadow-md">
                            ‡¶¨‡¶ø‡¶ú‡¶Ø‡¶º‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡ßÅ‡¶®
                        </button>
                        <button id="dark-mode-toggle" class="w-full py-3 px-4 bg-gray-600 hover:bg-gray-700 text-white font-bold rounded-xl transition duration-300 shadow-md">
                            üåì ‡¶•‡¶ø‡¶Æ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®
                        </button>
                    </div>
                </section>
            </div>
            
            <div class="lg:col-span-3">
                <section class="p-6 bg-white dark:bg-gray-800 shadow-xl rounded-2xl border border-fab-primary/20">
                    <h2 class="text-2xl font-bold mb-4 border-b pb-2 text-fab-primary dark:text-fab-accent">üèÜ ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶¨‡¶ø‡¶ú‡¶Ø‡¶º‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ</h2>
                    <ul id="previous-winners-list" class="space-y-3">
                        <li class="text-gray-500 dark:text-gray-400" id="no-winners-msg">‡¶ï‡ßã‡¶®‡ßã ‡¶¨‡¶ø‡¶ú‡¶Ø‡¶º‡ßÄ ‡¶è‡¶ñ‡¶®‡ßã ‡¶®‡ßá‡¶á‡•§</li>
                    </ul>
                </section>
            </div>
            
        </main>
    </div>

    <audio id="spin-sound" src="winner.mp3" preload="auto"></audio>
    <audio id="win-sound" src="medieval-fanfare-6826.mp3" preload="auto"></audio>

    <div id="participants-modal" class="fixed inset-0 bg-black/80 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col transform transition-all duration-300 scale-100">
            
            <div class="flex justify-between items-center pb-3 border-b dark:border-gray-700">
                <div class="flex items-baseline space-x-2">
                    <h2 class="text-2xl font-bold text-fab-primary dark:text-fab-accent">‡¶Ö‡¶Ç‡¶∂‡¶ó‡ßç‡¶∞‡¶π‡¶£‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ</h2>
                    <span id="participant-count-modal" class="text-sm font-semibold text-gray-500 dark:text-gray-400"> (‡¶Æ‡ßã‡¶ü: ‡ß¶ ‡¶ú‡¶®)</span>
                </div>
                
                <button id="close-modal-btn" class="text-gray-500 hover:text-gray-900 dark:hover:text-white text-3xl leading-none">
                    &times;
                </button>
            </div>

            <div class="mt-4 overflow-y-auto flex-grow custom-scrollbar">
                <p id="list-placeholder-modal" class="text-center text-blue-500 py-10">
                    ‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶™‡¶∞ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ö‡¶Ç‡¶∂‡¶ó‡ßç‡¶∞‡¶π‡¶£‡¶ï‡¶æ‡¶∞‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá‡•§
                </p>
                <div id="participant-list" class="grid grid-cols-2 md:grid-cols-3 gap-2">
                </div>
            </div>

            <div class="pt-3 border-t dark:border-gray-700 mt-4 text-right">
                <button id="close-modal-footer-btn" class="bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 py-2 px-4 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition shadow-sm">
                    ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®
                </button>
            </div>
        </div>
    </div>

    <script src="main.js"></script> 
</body>
</html>